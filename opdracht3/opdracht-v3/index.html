<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <title>Our superheroes</title>

    <link href="https://fonts.googleapis.com/css?family=Faster+One" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <header>

    </header>

    <section>

    </section>

    <script>
//      maakt van de header een variabele
        const header = document.querySelector('header');
//      maakt van de section een variabele
        const section = document.querySelector('section');

//      opslaan van de URL in eeen variabele
        let requestURL = 'https://koopreynders.github.io/frontendvoordesigners/opdracht3/json/movies.json';
        
//      nieuw verzoek object maken
        let request = new XMLHttpRequest();
        
//      open het verzoek
        request.open('GET', requestURL);
        
//      instellen van de response type op json
        request.responseType = 'json';
//      versturen van het verzoek
        request.send();

//      antwoord van de server keert terug
        request.onload = function() {
//          creeer resonse van de server
            const superHeroes = request.response;
//          vraag de server voor de response
            populateHeader(superHeroes);
//          laat de response zien
            showHeroes(superHeroes);
        }

//      functie om iets in de header te zetten 
        function populateHeader(obj) {
//          creeer de h1
            const myH1 = document.createElement('h1');
//          vul de h1 in
            myH1.textContent = obj['squadName'];
//          koppelt de myH1 aan de header
            header.appendChild(myH1);

//          creeer de p
            const myPara = document.createElement('p');
//          vul de p in
            myPara.textContent = 'Hometown: ' + obj['homeTown'] + ' // Formed: ' + obj['formed'];
//          koppelt de myPara aan de header
            header.appendChild(myPara);
        }

//      functie die de superhero cards creeert en laat zien
        function showHeroes(obj) {
//          creeer de heroes
            const heroes = obj['members'];

            // ?
            for (let i = 0; i < heroes.length; i++) {
//              artikel element creeeren
                const myArticle = document.createElement('article');
//              h2 element creeeren
                const myH2 = document.createElement('h2');
//              p paragraaf 1 element creeeren
                const myPara1 = document.createElement('p');
//              p paragraaf 2 element creeeren
                const myPara2 = document.createElement('p');
//              p paragraaf 3 element creeeren
                const myPara3 = document.createElement('p');
//              ul element creeeren
                const myList = document.createElement('ul');

//              h2 invullen
                myH2.textContent = heroes[i].name;
//              paragraaf 1 invullen
                myPara1.textContent = 'Secret identity: ' + heroes[i].secretIdentity;
//              paragraaf 2 invullen
                myPara2.textContent = 'Age: ' + heroes[i].age;
//              paragraaf 3 invullen
                myPara3.textContent = 'Superpowers:';

//              verwijzen naar superpowers element
                const superPowers = heroes[i].powers;
                // 
                for (let j = 0; j < superPowers.length; j++) {
//                  li element creeeren 
                    const listItem = document.createElement('li');
//                  li invullen
                    listItem.textContent = superPowers[j];
//                  ?
                    myList.appendChild(listItem);
                }
                

//              koppelt de html elementen aan myArticle 
                myArticle.appendChild(myH2);
//              koppelt de html elementen aan myArticle 
                myArticle.appendChild(myPara1);
//              koppelt de html elementen aan myArticle 
                myArticle.appendChild(myPara2);
//              koppelt de html elementen aan myArticle 
                myArticle.appendChild(myPara3);
//              koppelt de html elementen aan myArticle 
                myArticle.appendChild(myList);

//              koppelt de myArticle aan de section
                section.appendChild(myArticle);
            }
        }

    </script>
</body>

</html>
